\begin{tikzpicture}
  \begin{axis}[
      plotstyle-1,
      ybar stacked,
      xmin=2009.5, xmax=2022.5,
      ymax=70, ymin=0,
      ytick distance=10,
      ylabel={млн тонн},
      legend columns=-1,
    ]

    % Китай
    \addplot[fill=gold,
      nodes near coords,
      nodes near coords style={/pgf/number format/.cd,precision=0},
      ] table[
      x=Date,
      y=China,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Китай}

    % Россия
    \addplot[fill=blue,
      nodes near coords,
      nodes near coords style={/pgf/number format/.cd,precision=0},] table[
      x=Date,
      y=Russia,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Россия}

    % Канада
    \addplot[fill=darkblue,
      nodes near coords,
      nodes near coords style={/pgf/number format/.cd,precision=0},] table[
      x=Date,
      y=Canada,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Канада}

    % Индия
    \addplot[fill=red,
      nodes near coords,
      nodes near coords style={/pgf/number format/.cd,precision=0},] table[
      x=Date,
      y=India,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Индия}

    % ОАЭ
    \addplot[fill=yellow,
      every node near coord/.style={check for zero/.code={\pgfkeys{/pgf/fpu=true}
      \pgfmathparse{\pgfplotspointmeta-1}
      \pgfmathfloatifflags{\pgfmathresult}{-}{\pgfkeys{/tikz/coordinate}}{}
      \pgfkeys{/pgf/fpu=false}}, 
      check for zero, font=\footnotesize}, 
      nodes near coords={\pgfmathprintnumber[fixed zerofill,precision=0]{\pgfplotspointmeta}},] table[
      x=Date,
      y=United Arab Emirates,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{ОАЭ}

    % Австралия
    \addplot[fill=Color6,
      every node near coord/.style={check for zero/.code={\pgfkeys{/pgf/fpu=true}
      \pgfmathparse{\pgfplotspointmeta-1}
      \pgfmathfloatifflags{\pgfmathresult}{-}{\pgfkeys{/tikz/coordinate}}{}
      \pgfkeys{/pgf/fpu=false}}, 
      check for zero, font=\footnotesize}, 
      nodes near coords={\pgfmathprintnumber[fixed zerofill,precision=0]{\pgfplotspointmeta}},] table[
      x=Date,
      y=Australia,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Австралия}

    % США
    \addplot[fill=Color7,
      every node near coord/.style={check for zero/.code={\pgfkeys{/pgf/fpu=true}
      \pgfmathparse{\pgfplotspointmeta-1}
      \pgfmathfloatifflags{\pgfmathresult}{-}{\pgfkeys{/tikz/coordinate}}{}
      \pgfkeys{/pgf/fpu=false}}, 
      check for zero, font=\footnotesize}, 
      nodes near coords={\pgfmathprintnumber[fixed zerofill,precision=0]{\pgfplotspointmeta}},] table[
      x=Date,
      y=United States,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{США}

    % Норвегия
    \addplot[fill=Color8,
      every node near coord/.style={check for zero/.code={\pgfkeys{/pgf/fpu=true}
      \pgfmathparse{\pgfplotspointmeta-1}
      \pgfmathfloatifflags{\pgfmathresult}{-}{\pgfkeys{/tikz/coordinate}}{}
      \pgfkeys{/pgf/fpu=false}}, 
      check for zero, font=\footnotesize}, 
      nodes near coords={\pgfmathprintnumber[fixed zerofill,precision=0]{\pgfplotspointmeta}},] table[
      x=Date,
      y=Norway,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Норвегия}

    % Бахрейн
    \addplot[fill=Color9,
      every node near coord/.style={check for zero/.code={\pgfkeys{/pgf/fpu=true}
      \pgfmathparse{\pgfplotspointmeta-1}
      \pgfmathfloatifflags{\pgfmathresult}{-}{\pgfkeys{/tikz/coordinate}}{}
      \pgfkeys{/pgf/fpu=false}}, 
      check for zero, font=\footnotesize}, 
      nodes near coords={\pgfmathprintnumber[fixed zerofill,precision=0]{\pgfplotspointmeta}},
      ] table[
      x=Date,
      y=Bahrain,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Бахрейн}

    % Бразилия
    \addplot[fill=Color10,
      every node near coord/.style={check for zero/.code={\pgfkeys{/pgf/fpu=true}
      \pgfmathparse{\pgfplotspointmeta-1}
      \pgfmathfloatifflags{\pgfmathresult}{-}{\pgfkeys{/tikz/coordinate}}{}
      \pgfkeys{/pgf/fpu=false}}, 
      check for zero, font=\footnotesize}, 
      nodes near coords={\pgfmathprintnumber[fixed zerofill,precision=0]{\pgfplotspointmeta}},] table[
      x=Date,
      y=Brazil,
      col sep=tab
    ] {Data/Production/production_mln.csv};
    \addlegendentry{Бразилия}

    % Остальные
    % Бразилия
    \addplot[fill=white,
      every node near coord/.style={check for zero/.code={\pgfkeys{/pgf/fpu=true}
      \pgfmathparse{\pgfplotspointmeta-1}
      \pgfmathfloatifflags{\pgfmathresult}{-}{\pgfkeys{/tikz/coordinate}}{}
      \pgfkeys{/pgf/fpu=false}}, 
      check for zero, font=\footnotesize}, 
      nodes near coords={\pgfmathprintnumber[fixed zerofill,precision=0]{\pgfplotspointmeta}},] table[
      x=Date,
      y=Others,
      col sep=tab
    ] {Data/Production/production_mln.csv};

  \end{axis}
\end{tikzpicture}